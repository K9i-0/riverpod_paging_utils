appId: ${APP_ID}
name: Error Handling Test - エラーハンドリング確認
---
# アプリを起動（状態クリア）
- launchApp:
    clearState: true

# Sample Screen が表示されることを確認
- assertVisible: "Sample Screen"

# ドロワーを開く
- tapOn:
    id: "drawer-menu-button"

# 1st page error 画面に遷移
- tapOn: "1st page error"

# エラー画面が表示されることを確認 (500ms + バッファ)
- extendedWaitUntil:
    visible:
      id: "error-view"
    timeout: 2000

# リトライボタンをタップ
- tapOn:
    id: "retry-button"

# 戻る（iOSではBackボタンをタップ）
- tapOn: "Back"

# 画面遷移の待機
- extendedWaitUntil:
    visible: "Sample Screen"
    timeout: 2000

# ドロワーを開く
- tapOn:
    id: "drawer-menu-button"

# 2nd page error 画面に遷移
- tapOn: "2nd page error"

# 最初のアイテムは表示される
- assertVisible:
    id: "sample-item-0"

# 下にスクロールしてエラーを発生させる
- scrollUntilVisible:
    element:
      id: "sample-item-9"
    direction: DOWN
    timeout: 2000

# エラービューが表示されることを確認
- extendedWaitUntil:
    visible:
      id: "error-retry-button"
    timeout: 2000
